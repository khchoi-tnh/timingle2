# Google OAuth ì¸ì¦ íë¦„

Flutter ì•±ì—ì„œ Google ë¡œê·¸ì¸ì´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ì „ì²´ ì‹œí€€ìŠ¤ (ë‹¨ìˆœí™”)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‚¬ìš©ì   â”‚    â”‚  Flutter â”‚    â”‚  Google  â”‚    â”‚ Backend  â”‚    â”‚    DB    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚ 1.Google ë¡œê·¸ì¸â”‚               â”‚               â”‚               â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚ 2.OAuth ìš”ì²­  â”‚               â”‚               â”‚
     â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚ 3.ë¡œê·¸ì¸ í™”ë©´  â”‚               â”‚               â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚ 4.ê³„ì • ì„ íƒ    â”‚               â”‚               â”‚               â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚ 5.id_token    â”‚               â”‚               â”‚
     â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚ 6.POST /auth/google           â”‚               â”‚
     â”‚               â”‚ { id_token }  â”‚               â”‚               â”‚
     â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚ 7.ê²€ì¦ ìš”ì²­   â”‚               â”‚
     â”‚               â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚ 8.ì‚¬ìš©ì ì •ë³´ â”‚               â”‚
     â”‚               â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚ 9.User ì €ì¥   â”‚
     â”‚               â”‚               â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚               â”‚               â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚ 10.{ access_token, user }    â”‚               â”‚
     â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â”‚ 11.ë¡œê·¸ì¸ ì™„ë£Œ â”‚               â”‚               â”‚               â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚               â”‚               â”‚
     â”‚               â”‚               â”‚               â”‚               â”‚
     â–¼               â–¼               â–¼               â–¼               â–¼

                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                              Postman í…ŒìŠ¤íŠ¸ ì˜ì—­
                         (6~10: id_token í•„ìš”)
```

---

## Flutter ë‚´ë¶€ ë ˆì´ì–´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FLUTTER CLEAN ARCHITECTURE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Presentationâ”‚   â”‚   Domain    â”‚   â”‚    Data     â”‚   â”‚   External  â”‚
â”‚   Layer     â”‚   â”‚   Layer     â”‚   â”‚   Layer     â”‚   â”‚   Services  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚                 â”‚
       â”‚                 â”‚                 â”‚                 â”‚
  LoginPage         LoginWithGoogle   AuthRepositoryImpl    GoogleSignIn
       â”‚              UseCase              â”‚                 â”‚
       â”‚                 â”‚                 â”‚                 â”‚
       â–¼                 â–¼                 â–¼                 â–¼

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ë²„íŠ¼     â”‚      â”‚ call()  â”‚      â”‚ login   â”‚      â”‚ signIn()â”‚
  â”‚ í´ë¦­     â”‚â”€â”€â”€â”€â”€>â”‚         â”‚â”€â”€â”€â”€â”€>â”‚ With    â”‚â”€â”€â”€â”€â”€>â”‚         â”‚
  â”‚         â”‚      â”‚         â”‚      â”‚ Google()â”‚      â”‚         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚                 â”‚
       â”‚                 â”‚                 â”‚                 â–¼
       â”‚                 â”‚                 â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚                 â”‚          â”‚ Google      â”‚
       â”‚                 â”‚                 â”‚          â”‚ OAuth       â”‚
       â”‚                 â”‚                 â”‚          â”‚ (id_token)  â”‚
       â”‚                 â”‚                 â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚                 â”‚
       â”‚                 â”‚                 â–¼                 â”‚
       â”‚                 â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
       â”‚                 â”‚          â”‚ Remote      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚          â”‚ DataSource  â”‚
       â”‚                 â”‚          â”‚ (API í˜¸ì¶œ)   â”‚
       â”‚                 â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚                 â”‚
       â”‚                 â”‚                 â–¼
       â”‚                 â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚          â”‚ Backend API â”‚
       â”‚                 â”‚          â”‚ POST /auth/ â”‚
       â”‚                 â”‚          â”‚ google      â”‚
       â”‚                 â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚
       â–¼                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ìƒíƒœ     â”‚<â”€â”€â”€â”€â”€â”‚ Right   â”‚<â”€â”€â”€â”€â”€ (User, AuthTokens) ë°˜í™˜
  â”‚ ì—…ë°ì´íŠ¸  â”‚      â”‚ (ì„±ê³µ)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë‘ ê°€ì§€ Google ë¡œê·¸ì¸ ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GoogleLogin vs GoogleLoginWithCalendar                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    /auth/google (ê¸°ë³¸)        â”‚    /auth/google/calendar                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Request:                     â”‚  Request:                                â”‚
â”‚  { id_token }                 â”‚  { id_token, access_token,               â”‚
â”‚                               â”‚    refresh_token }                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì €ì¥:                        â”‚  ì €ì¥:                                   â”‚
â”‚  âœ… users í…Œì´ë¸”               â”‚  âœ… users í…Œì´ë¸”                          â”‚
â”‚  âœ… oauth_accounts í…Œì´ë¸”      â”‚  âœ… oauth_accounts í…Œì´ë¸”                 â”‚
â”‚     - email, name, picture    â”‚     - email, name, picture               â”‚
â”‚     - provider_user_id        â”‚     - provider_user_id                   â”‚
â”‚  âŒ access_token ì—†ìŒ          â”‚  âœ… access_token ì €ì¥                    â”‚
â”‚  âŒ refresh_token ì—†ìŒ         â”‚  âœ… refresh_token ì €ì¥                   â”‚
â”‚  âŒ scopes ì—†ìŒ                â”‚  âœ… scopes (calendar) ì €ì¥               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Calendar API ì‚¬ìš©:           â”‚  Calendar API ì‚¬ìš©:                       â”‚
â”‚  âŒ ë¶ˆê°€ëŠ¥                     â”‚  âœ… ê°€ëŠ¥                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Postman í…ŒìŠ¤íŠ¸ ë²”ìœ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          POSTMAN í…ŒìŠ¤íŠ¸ ë²”ìœ„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  âŒ Postmanìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë¶ˆê°€             âœ… Postmanìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ğŸ“± Flutter               â”‚          â”‚ ğŸ–¥ï¸ Backend               â”‚       â”‚
â”‚  â”‚                          â”‚          â”‚                          â”‚       â”‚
â”‚  â”‚ 1. GoogleSignIn.signIn() â”‚ id_token â”‚ POST /auth/google        â”‚       â”‚
â”‚  â”‚ 2. ì‚¬ìš©ì ë¡œê·¸ì¸ í™”ë©´     â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ { id_token, platform }   â”‚       â”‚
â”‚  â”‚ 3. googleAuth.idToken   â”‚          â”‚                          â”‚       â”‚
â”‚  â”‚                          â”‚          â”‚ â†“ ê²€ì¦, DB, JWT ìƒì„±     â”‚       â”‚
â”‚  â”‚                          â”‚  token   â”‚                          â”‚       â”‚
â”‚  â”‚ 4. í† í° ì €ì¥             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”‚ { access_token, ...}     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                          â”‚
â”‚  âš ï¸ id_tokenì€ Flutter ì•±ì—ì„œë§Œ ë°œê¸‰ ê°€ëŠ¥!                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Postmanì—ì„œ Google ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸í•˜ê¸°

Postmanì—ì„œ Google OAuthë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë¨¼ì € í† í°ì„ ë°œê¸‰ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
**ë‘ ê°€ì§€ ë°©ë²•**ì´ ìˆìŠµë‹ˆë‹¤:

---

### ë°©ë²• 1: Google OAuth Playground ì‚¬ìš© (ê¶Œì¥)

Flutter ì•± ì—†ì´ë„ í† í°ì„ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GOOGLE OAUTH PLAYGROUND íë¦„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  ê°œë°œì   â”‚    â”‚ OAuth Playground â”‚    â”‚  Google  â”‚    â”‚ Backend  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ 1. ì ‘ì†           â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ 2. Scope ì„ íƒ     â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚   - openid        â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚   - email         â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚   - profile       â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚   - calendar      â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ 3. Authorize      â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚ 4. ë¡œê·¸ì¸ í™”ë©´    â”‚               â”‚              â”‚
â”‚       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ 5. ê³„ì • ì„ íƒ      â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚ 6. auth code      â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ 7. Exchange       â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚ 8. í† í° êµí™˜      â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚ 9. í† í° ë°œê¸‰      â”‚               â”‚              â”‚
â”‚       â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚              â”‚
â”‚       â”‚ â”‚ id_token        â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ â”‚ access_token    â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ â”‚ refresh_token   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚                   â”‚                   â”‚               â”‚              â”‚
â”‚       â”‚ 10. í† í° ë³µì‚¬ â†’ Postman í™˜ê²½ë³€ìˆ˜ ì„¤ì •                 â”‚              â”‚
â”‚       â”‚                                                       â”‚              â”‚
â”‚       â”‚ 11. POST /auth/google/calendar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚
â”‚       â”‚     { id_token, access_token, refresh_token }         â”‚              â”‚
â”‚       â”‚                                                       â”‚              â”‚
â”‚       â”‚ 12. { access_token (JWT), user } <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
â”‚       â”‚                                                       â”‚              â”‚
â”‚       â–¼                                                       â–¼              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Step-by-Step ê°€ì´ë“œ

**Step 1: OAuth Playground ì ‘ì†**
```
https://developers.google.com/oauthplayground
```

**Step 2: ì„¤ì • (ìš°ì¸¡ ìƒë‹¨ âš™ï¸ í†±ë‹ˆë°”í€´)**
```
â˜‘ï¸ Use your own OAuth credentials

OAuth Client ID: [Google Cloud Consoleì—ì„œ ë³µì‚¬]
OAuth Client secret: [Google Cloud Consoleì—ì„œ ë³µì‚¬]
```

> âš ï¸ Client ID/Secretì€ `backend/.env`ì˜ `GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET` ê°’ ì‚¬ìš©

**Step 3: Scope ì„ íƒ (ì™¼ìª½ íŒ¨ë„)**
```
Step 1: Select & authorize APIs

âœ… Google OAuth2 API v2
   - https://www.googleapis.com/auth/userinfo.email
   - https://www.googleapis.com/auth/userinfo.profile
   - openid

âœ… Google Calendar API v3 (Calendar ì—°ë™ ì‹œ)
   - https://www.googleapis.com/auth/calendar
```

**Step 4: Authorize APIs í´ë¦­**
- Google ë¡œê·¸ì¸ í™”ë©´ í‘œì‹œ
- ê³„ì • ì„ íƒ ë° ê¶Œí•œ ìŠ¹ì¸

**Step 5: Exchange authorization code for tokens í´ë¦­**
```
ê²°ê³¼:
{
  "access_token": "ya29.a0AfH6SMB...",      â† ë³µì‚¬
  "id_token": "eyJhbGciOiJSUzI1NiIs...",    â† ë³µì‚¬
  "refresh_token": "1//0eXyz...",           â† ë³µì‚¬
  "expires_in": 3599,
  "token_type": "Bearer"
}
```

**Step 6: Postman í™˜ê²½ë³€ìˆ˜ ì„¤ì •**
```
google_id_token: eyJhbGciOiJSUzI1NiIs...
google_access_token: ya29.a0AfH6SMB...
google_refresh_token: 1//0eXyz...
```

**Step 7: Postmanì—ì„œ í…ŒìŠ¤íŠ¸**
- `2_auth.json` â†’ `2-3. Google OAuth` â†’ `Google Login + Calendar` ì‹¤í–‰

---

### ë°©ë²• 2: Flutter ì•±ì—ì„œ í† í° ë³µì‚¬

ì•±ì´ ì´ë¯¸ ìˆë‹¤ë©´ ë””ë²„ê·¸ ë¡œê·¸ì—ì„œ í† í°ì„ ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```dart
// auth_repository_impl.dartì—ì„œ ë¡œê·¸ ì¶”ê°€ (ê°œë°œìš©)
final googleAuth = await googleUser.authentication;
print('=== Google OAuth Tokens ===');
print('idToken: ${googleAuth.idToken}');
print('accessToken: ${googleAuth.accessToken}');
print('===========================');
```

---

### í…ŒìŠ¤íŠ¸ ìˆœì„œ

| ë‹¨ê³„ | API | ì„¤ëª… |
|-----|-----|------|
| 1 | `POST /auth/google` | ê¸°ë³¸ Google ë¡œê·¸ì¸ |
| 2 | `POST /auth/google/calendar` | Calendar ê¶Œí•œ í¬í•¨ ë¡œê·¸ì¸ |
| 3 | `GET /calendar/status` | Calendar ì—°ë™ ìƒíƒœ í™•ì¸ |
| 4 | `GET /calendar/events` | Calendar ì´ë²¤íŠ¸ ì¡°íšŒ |

### ìš”ì²­ ì˜ˆì‹œ

**ê¸°ë³¸ ë¡œê·¸ì¸:**
```json
POST /api/v1/auth/google

{
  "id_token": "{{google_id_token}}",
  "platform": "web"
}
```

**Calendar ë¡œê·¸ì¸:**
```json
POST /api/v1/auth/google/calendar

{
  "id_token": "{{google_id_token}}",
  "access_token": "{{google_access_token}}",
  "refresh_token": "{{google_refresh_token}}",
  "platform": "web"
}
```

---

### OAuth Playground vs Flutter ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í† í° ë°œê¸‰ ë°©ë²• ë¹„êµ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     OAuth Playground          â”‚          Flutter ì•±                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… ì•± ì—†ì´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥         â”‚  âŒ ì•± ë¹Œë“œ í•„ìš”                         â”‚
â”‚  âœ… ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ê°€ëŠ¥       â”‚  âŒ ì—ë®¬ë ˆì´í„°/ì‹¤ê¸°ê¸° í•„ìš”               â”‚
â”‚  âœ… ëª¨ë“  scope ì„ íƒ ê°€ëŠ¥        â”‚  âš ï¸ ì•±ì— ì„¤ì •ëœ scopeë§Œ                  â”‚
â”‚  âœ… refresh_token í•­ìƒ ë°œê¸‰     â”‚  âš ï¸ ì²« ë¡œê·¸ì¸ ì‹œì—ë§Œ ë°œê¸‰                â”‚
â”‚  âš ï¸ ìˆ˜ë™ í† í° ë³µì‚¬ í•„ìš”         â”‚  âš ï¸ ë””ë²„ê·¸ ë¡œê·¸ì—ì„œ ë³µì‚¬                 â”‚
â”‚  âš ï¸ í† í° ë§Œë£Œ ì‹œ ì¬ë°œê¸‰ í•„ìš”    â”‚  âœ… ì•±ì—ì„œ ìë™ ê°±ì‹                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ ê¶Œì¥: ê°œë°œ ì´ˆê¸°ì—ëŠ” OAuth Playground, ì´í›„ Flutter ì•± ì‚¬ìš©           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í† í° íë¦„ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TOKEN FLOW                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  [Google]                    [Backend]                [Client]       â”‚
â”‚                                                                      â”‚
â”‚  google_id_token â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ê²€ì¦ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚  (ì‚¬ìš©ì ì‹ ì› í™•ì¸)            â†“                                     â”‚
â”‚                               JWT ìƒì„±                               â”‚
â”‚                                â†“                                     â”‚
â”‚  google_access_token â”€â”€â”€â”€â”€â”€â”€â–º oauth_accounts ì €ì¥                   â”‚
â”‚  (Calendar API ì ‘ê·¼ìš©)         â†“                                     â”‚
â”‚                               access_token â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚  google_refresh_token â”€â”€â”€â”€â”€â”€â–º oauth_accounts ì €ì¥                   â”‚
â”‚  (í† í° ê°±ì‹ ìš©)                 â†“                                     â”‚
â”‚                               refresh_token â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ê´€ë ¨ íŒŒì¼

### Flutter
- [auth_repository_impl.dart](../../frontend/lib/features/auth/data/repositories/auth_repository_impl.dart) - Google Sign-In í˜¸ì¶œ
- [auth_remote_datasource.dart](../../frontend/lib/features/auth/data/datasources/auth_remote_datasource.dart) - Backend API í˜¸ì¶œ
- [auth_provider.dart](../../frontend/lib/features/auth/presentation/providers/auth_provider.dart) - ìƒíƒœ ê´€ë¦¬

### Backend
- [auth_handler.go](../../backend/internal/handlers/auth_handler.go) - HTTP í•¸ë“¤ëŸ¬
- [auth_service.go](../../backend/internal/services/auth_service.go) - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

### Postman
- [2_auth.json](../2_auth.json) - ì¸ì¦ API í…ŒìŠ¤íŠ¸
